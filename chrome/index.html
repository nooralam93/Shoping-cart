<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
    <title>Shoping Cart</title>
</head>
<body>
    <h1>Shoping cart</h1>
    <section>
        <div class="container">            
            <div class="cart">
                <div class="col-md-12 col-lg-10 mx-auto">
                    <div class="cart-item ">
                        <div class="row ">
                            <div class="col-md-7 center-item ">
                                <img src="../images/product-1.png" alt="">
                                <h5>iPhone 11 128GB Black</h5>    
                            </div>
                            <div class="col-md-5 center-item">
                                <div class="input-group number-spinner">
                                    <button id="phone-decrease" class="btn btn-default"><i class="fas fa-minus"></i></button>
                                    <input id="phone-count" type="text" class="form-control text-center" value="1">
                                    <button id="phone-increase" class="btn btn-default"><i class="fas fa-plus"></i></button>
         
                                 </div>
                                <h5 id="phone-price">$1219</h5>
                                <img src="../images/remove.png" alt="" class="remove-item">    
                            </div>
                        </div>
                    </div>
                    <div class="cart-item ">
                        <div class="row ">
                            <div class="col-md-7 center-item ">
                                <img src="../images/product-2.png" alt="">
                                <h5>iPhone 11 Silicon Case Black</h5>    
                            </div>
                            <div class="col-md-5 center-item">
                                <div class="input-group center-item">
                                    <button onclick=" handlerProductChange('case', false)" class="btn btn-default"><i class="fas fa-minus"></i></button>
                                    <input id="case-count" type="text" class="form-control text-center" value="1">
                                    <button onclick="handlerProductChange('case', true)" class="btn btn-default"><i class="fas fa-plus"></i></button>
                                </div>
                                <h5 id="case-price">$59</h5>
                                <img src="../images/remove.png" alt="" class="remove-item">    
                            </div>
                        </div>
                    </div>
                    <div class="cart-item">
                        <div class="row">
                            <div class="col-md-8">
                                <h5>SubTotal:</h5>
                                <h5 >Tex:</h5>
                                <h5>Total:</h5>
                            </div>
                             <div class = "col-md-4 status">
                                    <h5 id="total-price">$1219</h5>
                                    <h5 id="tex-amount">$0</h5>
                                    <h5 id="grand-total">$1219</h5>
                             </div>
                            </div>
                        </div>
                        <div class="col-md-12 pt-4 pb-4">
                            <button type="button" class="btn btn-primary check-out">Check Out</button>
                        </div>
                    </div>
                    
                </div>   
            </div>                  
        </div>
    </section>
    <script>
        document.getElementById("phone-increase").addEventListener('click', function(){
            handlerProductChange('phone', true);
        })

            document.getElementById("phone-decrease").addEventListener("click", function(){
                handlerProductChange('phone', false)
            })

            function handlerProductChange(product, isIncrease){
           const productInput = document.getElementById(product +'-count')
            const productCount = getInputValue(product);
           //const productCount = parseInt(productInput.value);
           let caseNewCount = productCount;
           if (isIncrease == true ) {
               productNewCount = productCount + 1;               
           }
           if (isIncrease == false && productCount > 0) {
            productNewCount = productCount - 1;
           }
           productInput.value = productNewCount;
           //const productPrice = productNewCount * 59;
           if (product == 'case') {
               productPrice = productNewCount * 59;
           }
           if (product == 'phone') {
               productPrice = productNewCount * 1219;
           }
           document.getElementById(product + "-price").innerText = "$" + productPrice;
           calculateTotal();
         }

         function calculateTotal(){
            // const phoneInput = document.getElementById('phone-count')
            // const phoneCount = parseInt(phoneInput.value);
                
            // const caseInput = document.getElementById('case-count')
            // const caseCount = parseInt(caseInput.value);

            const phoneCount = getInputValue('phone')
            const caseCount = getInputValue('case')

            const totalPrice = phoneCount * 1219 + caseCount * 59;
            document.getElementById('total-price').innerText = '$' + totalPrice;

            const tex = Math.round(totalPrice * 0.1);
            document.getElementById("tex-amount").innerText = '$' + tex;

            const grandTotal =totalPrice + tex;
            document.getElementById("grand-total").innerText ='$' + grandTotal;
         } 
         function getInputValue(product){
            const productInput = document.getElementById(product +'-count')
            const productCount = parseInt(productInput.value);
            return productCount;

          
         }
            // function handlerPhoneChange(isIncrease){
            //     const phoneInput = document.getElementById("phone-count");
            //     const phoneCount = parseInt(phoneInput.value);
            //     let phoneNewCount = phoneCount;
            //     if (isIncrease == true) {
            //         phoneNewCount = phoneCount + 1;
            //     }
            //   if(isIncrease == false && phoneCount > 0){
            //       phoneNewCount = phoneCount-1;
            //   }
            //     phoneInput.value = phoneNewCount;

            //     const PhonePrice = phoneNewCount * 1219;
            //     document.getElementById("phone-price").innerText = '$' + PhonePrice;
            // }
                 
            // function handlerProductChange(isIncrease){
            //     const caseInput = document.getElementById("case-count");
            // const caseCount = parseInt(caseInput.value);
            // let caseNewCount = caseCount;
            // if (isIncrease == true ) {
            //     caseNewCount = caseCount + 1;               
            // }
            // if (isIncrease == false && caseCount > 0) {
            //     caseNewCount = caseCount - 1;
            // }
            //     caseInput.value = caseNewCount;
            // const casePrice = caseNewCount * 59;
            // document.getElementById("case-price").innerText = "$" + casePrice;
            // }
    
        // document.getElementById("case-increase").addEventListener('click',function(){
        //     const caseInput = document.getElementById('case-count');
        //     const caseCount = parseInt(caseInput.value);
        //     const caseNewCount = caseCount + 1;
        //      caseInput.value = caseNewCount;
        //      const caseTotal = caseNewCount * 59;
        //      document.getElementById("case-total").innerText = "$" + caseTotal;
        //    // console.log(caseInput.value);
        // })
        // document.getElementById("case-decrease").addEventListener("click",function(){
        //    const caseInput = document.getElementById("case-count");
        //    const caseCount = parseInt(caseInput.value);
        //    const caseNewCount = caseCount - 1;
        //     caseInput.value = caseNewCount;
        //    const caseTotal = caseNewCount * 59;
        //    document.getElementById("case-total").innerText = "$" + caseTotal;
        // })
    </script>
    
</body>
</html>